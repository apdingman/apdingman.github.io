<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Secure AWS Account Root User with U2F Keys | Adam Dingman</title><meta name=keywords content><meta name=description content="The AWS Account Root User is the identity that has complete access to all AWS services and resources in an AWS account. The scenarios that require you to use the root user are pretty sparse, so it&rsquo;s good practice to secure the accounts with Multi-Factor Authentication (MFA), store the credentials in a password manager (also protected by MFA), and create named IAM users for any of your AWS account administrative needs."><meta name=author content="Adam Dingman"><link rel=canonical href=https://apdingman.github.io/posts/root-user-u2f/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://apdingman.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://apdingman.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://apdingman.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://apdingman.github.io/apple-touch-icon.png><link rel=mask-icon href=https://apdingman.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-WGJK2RQ8MH"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WGJK2RQ8MH",{anonymize_ip:!1})}</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-WGJK2RQ8MH","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WGJK2RQ8MH"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WGJK2RQ8MH",{anonymize_ip:!1})}</script><meta property="og:title" content="Secure AWS Account Root User with U2F Keys"><meta property="og:description" content="The AWS Account Root User is the identity that has complete access to all AWS services and resources in an AWS account. The scenarios that require you to use the root user are pretty sparse, so it&rsquo;s good practice to secure the accounts with Multi-Factor Authentication (MFA), store the credentials in a password manager (also protected by MFA), and create named IAM users for any of your AWS account administrative needs."><meta property="og:type" content="article"><meta property="og:url" content="https://apdingman.github.io/posts/root-user-u2f/"><meta property="og:image" content="https://apdingman.github.io/images/cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-17T22:06:15-05:00"><meta property="article:modified_time" content="2022-11-17T22:06:15-05:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://apdingman.github.io/images/cover.png"><meta name=twitter:title content="Secure AWS Account Root User with U2F Keys"><meta name=twitter:description content="The AWS Account Root User is the identity that has complete access to all AWS services and resources in an AWS account. The scenarios that require you to use the root user are pretty sparse, so it&rsquo;s good practice to secure the accounts with Multi-Factor Authentication (MFA), store the credentials in a password manager (also protected by MFA), and create named IAM users for any of your AWS account administrative needs."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://apdingman.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Secure AWS Account Root User with U2F Keys","item":"https://apdingman.github.io/posts/root-user-u2f/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Secure AWS Account Root User with U2F Keys","name":"Secure AWS Account Root User with U2F Keys","description":"The AWS Account Root User is the identity that has complete access to all AWS services and resources in an AWS account. The scenarios that require you to use the root user are pretty sparse, so it\u0026rsquo;s good practice to secure the accounts with Multi-Factor Authentication (MFA), store the credentials in a password manager (also protected by MFA), and create named IAM users for any of your AWS account administrative needs.","keywords":[],"articleBody":"The AWS Account Root User is the identity that has complete access to all AWS services and resources in an AWS account. The scenarios that require you to use the root user are pretty sparse, so it’s good practice to secure the accounts with Multi-Factor Authentication (MFA), store the credentials in a password manager (also protected by MFA), and create named IAM users for any of your AWS account administrative needs.\nYour options to secure the account root user with MFA are:\nVirtual MFA Device (Microsoft Authenticator, Authy, Google Authenticator, etc.) Universal 2nd Factor (U2F) Security Key (Yubikey) Hardware MFA Device (Gemalto Token) My go-to is to use option 2 - U2F Keys. They are relatively cheap, easy to acquire, and user-friendly. I’m specifically a fan of the Yubikey brand of U2F keys manufactured by Yubico.\nWhat exactly are they and how do they work? Check out this quick video…\nWhy not Virtual MFA? Wait…why don’t I just use the Virtual MFA Device option? It’s free and it doesn’t require me to keep track of a physical object! That’s true, but in addition to U2F keys preventing you from having to deal with account management hell (as employees leave, people change devices, etc.) hardware-based security also offers the benefit that it is much more difficult to successfully attack remotely.\nActivate U2F Key MFA for an Account Root User When logged in as the account root user:\nOn the right side of the navigation bar, choose your account name, and choose Security Credentials Navigate to the Multi-factor authentication section and click Activate MFA Click on the U2F security key radio button and click Continue If not already, insert your U2F key into your computer and tap the button. You’ve successfully secured the root user account with your U2F Key. Logging into your account root user using your U2F key When the scenario does come up for you to test your login as the root user or to perform one of those specific activities that requires the root user, it’s super simple!\nSupply the root user email address Complete the security check, click submit Enter the password for the root user, click sign in When prompted for the U2F key, tap the button You will then be redirected to the console homepage of your AWS account Recommendations when using U2F keys for the Account Root Users A single key can be used for multiple AWS account. However, consider the blast radius if a single key were to be lost. 1 key should be used to secure the account root user on the Management (Master) account. 1 key should be used for all development accounts 1 key should be used for all staging/qa accounts 1 key should be used for all production accounts After MFA is activated on the root user accounts using U2F keys, the keys should be locked in an appropriate physical safe (i.e. one managed and protected by corporate security in an on-site facility). ","wordCount":"494","inLanguage":"en","image":"https://apdingman.github.io/images/cover.png","datePublished":"2022-11-17T22:06:15-05:00","dateModified":"2022-11-17T22:06:15-05:00","author":{"@type":"Person","name":"Adam Dingman"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://apdingman.github.io/posts/root-user-u2f/"},"publisher":{"@type":"Organization","name":"Adam Dingman","logo":{"@type":"ImageObject","url":"https://apdingman.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://apdingman.github.io accesskey=h title="Adam Dingman (Alt + H)">Adam Dingman</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://apdingman.github.io/about-me title="About Me"><span>About Me</span></a></li><li><a href=https://apdingman.github.io/posts title=Blog><span>Blog</span></a></li><li><a href=https://apdingman.github.io/certifications title=Certifications><span>Certifications</span></a></li><li><a href=https://apdingman.github.io/tweets/my-fav-tweets title="My Favorite Tweets"><span>My Favorite Tweets</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Secure AWS Account Root User with U2F Keys</h1><div class=post-meta><span title='2022-11-17 22:06:15 -0500 -0500'>November 17, 2022</span>&nbsp;·&nbsp;Adam Dingman</div></header><figure class=entry-cover><img loading=lazy srcset="https://apdingman.github.io/posts/root-user-u2f/images/cover_hufe514a2892e537eb41d0fc1d59e6da9e_185278_360x0_resize_box_3.png 360w ,https://apdingman.github.io/posts/root-user-u2f/images/cover_hufe514a2892e537eb41d0fc1d59e6da9e_185278_480x0_resize_box_3.png 480w ,https://apdingman.github.io/posts/root-user-u2f/images/cover_hufe514a2892e537eb41d0fc1d59e6da9e_185278_720x0_resize_box_3.png 720w ,https://apdingman.github.io/posts/root-user-u2f/images/cover_hufe514a2892e537eb41d0fc1d59e6da9e_185278_1080x0_resize_box_3.png 1080w ,https://apdingman.github.io/posts/root-user-u2f/images/cover.png 1200w" sizes="(min-width: 768px) 720px, 100vw" src=https://apdingman.github.io/posts/root-user-u2f/images/cover.png alt width=1200 height=627></figure><div class=post-content><p>The AWS Account Root User is the identity that has complete access to all AWS services and resources in an AWS account. The scenarios that require you to use the root user are pretty sparse, so it&rsquo;s good practice to secure the accounts with Multi-Factor Authentication (MFA), store the credentials in a password manager (also protected by MFA), and create named IAM users for any of your AWS account administrative needs.</p><p>Your options to secure the account root user with MFA are:</p><ol><li>Virtual MFA Device (Microsoft Authenticator, Authy, Google Authenticator, etc.)</li><li>Universal 2nd Factor (U2F) Security Key (Yubikey)</li><li>Hardware MFA Device (Gemalto Token)</li></ol><p>My go-to is to use option 2 - U2F Keys. They are relatively cheap, easy to acquire, and user-friendly. I&rsquo;m specifically a fan of the Yubikey brand of U2F keys manufactured by Yubico.</p><p>What exactly are they and how do they work? Check out this quick video&mldr;</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/DFzScdDC6xk style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=why-not-virtual-mfa>Why not Virtual MFA?<a hidden class=anchor aria-hidden=true href=#why-not-virtual-mfa>#</a></h2><p>Wait&mldr;why don&rsquo;t I just use the Virtual MFA Device option? It&rsquo;s free and it doesn&rsquo;t require me to keep track of a physical object! That&rsquo;s true, but in addition to U2F keys preventing you from having to deal with account management hell (as employees leave, people change devices, etc.) hardware-based security also offers the benefit that it is much more difficult to successfully attack remotely.</p><h2 id=activate-u2f-key-mfa-for-an-account-root-user>Activate U2F Key MFA for an Account Root User<a hidden class=anchor aria-hidden=true href=#activate-u2f-key-mfa-for-an-account-root-user>#</a></h2><p>When logged in as the account root user:</p><ol><li><p>On the right side of the navigation bar, choose your account name, and choose <strong>Security Credentials</strong>
<img loading=lazy src=images/image-3.png alt="Scenario 1"></p></li><li><p>Navigate to the Multi-factor authentication section and click Activate MFA
<img loading=lazy src=images/image-4-2048x572.png alt="Scenario 1"></p></li><li><p>Click on the U2F security key radio button and click Continue
<img loading=lazy src=images/image-6.png alt="Scenario 1"></p></li><li><p>If not already, insert your U2F key into your computer and tap the button.
<img loading=lazy src=images/image-7-1536x932.png alt="Scenario 1"></p></li><li><p>You’ve successfully secured the root user account with your U2F Key.
<img loading=lazy src=images/image-8.png alt="Scenario 1"></p></li></ol><h2 id=logging-into-your-account-root-user-using-your-u2f-key>Logging into your account root user using your U2F key<a hidden class=anchor aria-hidden=true href=#logging-into-your-account-root-user-using-your-u2f-key>#</a></h2><p>When the scenario does come up for you to test your login as the root user or to perform one of those specific activities that requires the root user, it’s super simple!</p><ol><li>Supply the root user email address
<img loading=lazy src=images/image-9.png alt="Scenario 1"></li><li>Complete the security check, click submit
<img loading=lazy src=images/image-10.png alt="Scenario 1"></li><li>Enter the password for the root user, click sign in
<img loading=lazy src=images/image-11.png alt="Scenario 1"></li><li>When prompted for the U2F key, tap the button
<img loading=lazy src=images/image-12.png alt="Scenario 1"></li><li>You will then be redirected to the console homepage of your AWS account</li></ol><h2 id=recommendations-when-using-u2f-keys-for-the-account-root-users>Recommendations when using U2F keys for the Account Root Users<a hidden class=anchor aria-hidden=true href=#recommendations-when-using-u2f-keys-for-the-account-root-users>#</a></h2><ul><li>A single key can be used for multiple AWS account. However, consider the blast radius if a single key were to be lost.</li><li>1 key should be used to secure the account root user on the Management (Master) account.</li><li>1 key should be used for all development accounts</li><li>1 key should be used for all staging/qa accounts</li><li>1 key should be used for all production accounts</li><li>After MFA is activated on the root user accounts using U2F keys, the keys should be locked in an appropriate physical safe (i.e. one managed and protected by corporate security in an on-site facility).</li></ul></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>